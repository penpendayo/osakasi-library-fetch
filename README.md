# OSAKASHI-LIBRARY-FETCH - å¤§é˜ªå¸‚å›³æ›¸é¤¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãƒ„ãƒ¼ãƒ«

[å¤§é˜ªå¸‚å›³æ›¸é¤¨ã® WEB ã‚µã‚¤ãƒˆ](https://www.oml.city.osaka.lg.jp/)ã‹ã‚‰ã€Œäºˆç´„ä¸€è¦§ã€ã¨ã€Œè²¸å‡ºä¸€è¦§ã€ã‚’å–å¾—ã—ã¦ HTML ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚  

[ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ãƒˆ](https://library-osakashi.web.app/)

## ä½¿ã„æ–¹ğŸ“–

### 1.clone
`git clone`ã§ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ clone ã—ã¾ã™ã€‚
### 2.npm install
`npm install`ã‚’å©ã„ã¦ã€å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
### 3.envãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒˆãƒƒãƒ—ã«`.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢å¼ã§ã€å¤§é˜ªå¸‚å›³æ›¸é¤¨ã®ID/PW/åå‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚ï¼ˆåå‰ã«ã¤ã„ã¦ã¯è‡ªåˆ†ã§è‡ªç”±ã«æ±ºã‚ã¾ã™ï¼‰
```
ID=2020845-1
PW=043850934
NAME=ãŸã‘ã—
```
è¤‡æ•°äººã„ã‚‹å ´åˆã¯ã€,åŒºåˆ‡ã‚Šã§å…¥åŠ›ã—ã¦ã„ãã¾ã™ã€‚
```
ID=1äººç›®ã®ID,2äººç›®ã®ID
PW=1äººç›®ã®PW,2äººç›®ã®PW
NAME=1äººç›®ã®åå‰,2äººç›®ã®åå‰
```
### 4.å–å¾—
`npm start`ã‚’å©ã„ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’èµ°ã‚‰ã›ã¾ã™ã€‚
ï¼ˆå®šæœŸçš„ã«èµ°ã‚‰ã›ã‚‹å ´åˆã¯ã€[forever](https://www.npmjs.com/package/forever)ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãªã©ã‚’ä½¿ã†ã¨è‰¯ã„ã¨æ€ã„ã¾ã™ï¼‰
### 5.ã”è‡ªç”±ã«
`.public/`é…ä¸‹ã«`index.html`ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã‚ã¨ã¯ç…®ã‚‹ãªã‚Šç„¼ããªã‚Šã—ã¦ãã ã•ã„ã€‚

## ãã®ä»–ğŸƒ
ã‚µã‚¤ãƒˆã«è² è·ã‚’ã‹ã‘ãªã„ãŸã‚ã«ã€ä¸¦è¡Œã§å‡¦ç†ã›ãšã«ã€Œ1äººç›®ãŒçµ‚ã‚ã£ãŸã‚‰2äººç›®ã€2äººç›®ãŒçµ‚ã‚ã£ãŸã‚‰3äººç›®ã€ã¨ã„ã†é¢¨ã«ç›´åˆ—ã«å‡¦ç†ã—ã¦ã„ãã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ä»¥ä¸‹ã®éƒ¨åˆ†ã§ã™ã€‚
```
 body = await idList.reduce(
      async (acc, v, i) =>
        (await acc) + (await getHTML(idList[i], pwList[i], nameList[i])),
      Promise.resolve("")
    );
```
ãªã®ã§å˜ç´”è¨ˆç®—ã§äººæ•°ã‚’nå€ã«ã™ã‚‹ã¨å‡¦ç†ã«ã‹ã‹ã‚‹æ™‚é–“ã‚‚nå€ã«ãªã‚Šã¾ã™ã€‚ä¸¦è¡Œã§å‡¦ç†ã—ãŸã„å ´åˆã¯`Promise.all`ãªã©ã‚’ä½¿ã£ãŸå‡¦ç†ã«æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚
## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

[SUSHI-WARE LICENSE](https://github.com/MakeNowJust/sushi-ware)ã§é…å¸ƒã—ã¾ã™ğŸ˜‹ã€€  
ãŠå¯¿å¸ãŸã¹ãŸã„ğŸ£

é€£çµ¡å…ˆï¼š [@penpen_dev](https://twitter.com/penpen_dev)
